# Story 4.2: Home Page and Navigation Development

## User Story

As a **user visiting the ThisOrThat website**,
I want **a functional home page with working navigation links**,
So that **I can easily discover and access all the features of the application**.

## Story Context

**Existing System Integration:**
- Integrates with: Existing Next.js App Router structure and authentication system
- Technology: Next.js 14+ App Router, React Server Components, Tailwind CSS, Shadcn/ui
- Follows pattern: Existing route structure in `(main)` layout group
- Touch points: Header navigation, home page CTAs, mobile navigation

## Acceptance Criteria

**Functional Requirements:**

1. **Home Page Route Structure**
   - Home page (`/`) displays properly with working navigation
   - All navigation links in header work correctly
   - All call-to-action buttons on home page work correctly

2. **Navigation Links**
   - "Home" link navigates to `/` (root)
   - "Polls" link navigates to a polls listing page at `/polls`
   - "Create" link navigates to `/poll/create` (existing route)
   - "About" link navigates to `/about` page
   - "Profile" link navigates to `/profile` (existing route)

3. **Home Page Call-to-Action Buttons**
   - "Create Poll" button navigates to `/poll/create`
   - "Browse Polls" button navigates to `/polls`
   - "Create Your First Poll" button navigates to `/poll/create`

4. **Missing Route Implementation**
   - Create `/polls` page to display a list of public polls
   - Create `/about` page with information about the application
   - Ensure all routes follow the existing `(main)` layout pattern

**Integration Requirements:**

5. **Existing functionality continues to work unchanged**
   - Authentication flow remains intact
   - Poll creation, viewing, and voting functionality unaffected
   - Dashboard and profile pages continue to work

6. **New functionality follows existing patterns**
   - Routes use the `(main)` layout group
   - Components follow existing styling patterns with Tailwind CSS
   - Navigation uses existing `Header` component structure

7. **Mobile navigation maintains consistency**
   - Mobile navigation includes all the same links as desktop
   - Mobile navigation works correctly on all screen sizes

**Quality Requirements:**

8. **Change is covered by appropriate tests**
   - Unit tests for new page components
   - Integration tests for navigation functionality
   - E2E tests for complete user flows

9. **Documentation is updated if needed**
   - Route structure documentation updated
   - Navigation component documentation updated

10. **No regression in existing functionality verified**
    - All existing routes continue to work
    - Authentication flow remains functional
    - Poll-related functionality unaffected

## Technical Notes

- **Integration Approach:** Add missing routes to existing `(main)` layout group, update navigation links to use correct paths
- **Existing Pattern Reference:** Follow the same pattern as existing routes like `/poll/create` and `/profile`
- **Key Constraints:** Must maintain existing authentication flow and not break any current functionality

## Definition of Done

- [ ] `/polls` route created and displays list of public polls
- [ ] `/about` route created with application information
- [ ] All navigation links in header work correctly
- [ ] All call-to-action buttons on home page work correctly
- [ ] Mobile navigation includes all links and works properly
- [ ] Existing functionality regression tested
- [ ] Code follows existing patterns and standards
- [ ] Tests pass (existing and new)
- [ ] Documentation updated if applicable

## Implementation Details

### New Routes to Create

1. **`/polls` - Polls Listing Page**
   - Display a grid/list of public polls
   - Include filtering options (active/closed)
   - Show poll preview with images and basic info
   - Link to individual poll pages
   - Use existing `PollCard` component if available

2. **`/about` - About Page**
   - Application description and purpose
   - How it works explanation
   - Contact information or support links
   - Simple, clean design following existing patterns

### Navigation Updates

1. **Header Component Updates**
   - Fix "Polls" link to point to `/polls` instead of non-existent route
   - Ensure "Create" link points to `/poll/create`
   - Add "About" link to `/about`

2. **Home Page Updates**
   - Fix "Create Poll" button to point to `/poll/create`
   - Fix "Browse Polls" button to point to `/polls`
   - Fix "Create Your First Poll" button to point to `/poll/create`

3. **Mobile Navigation Updates**
   - Ensure mobile navigation includes all the same links
   - Test mobile navigation functionality

### File Structure

```
apps/web/src/app/(main)/
├── page.tsx              # Home page (existing)
├── polls/
│   └── page.tsx          # NEW: Polls listing page
├── about/
│   └── page.tsx          # NEW: About page
├── poll/
│   ├── create/
│   │   └── page.tsx      # Existing
│   └── [id]/
│       └── page.tsx      # Existing
├── profile/
│   └── page.tsx          # Existing
└── dashboard/
    └── page.tsx          # Existing
```

### Components to Create/Update

1. **New Components**
   - `PollsList` component for displaying poll grid
   - `AboutPage` content component

2. **Updated Components**
   - `Header.tsx` - Fix navigation links
   - `page.tsx` (home) - Fix CTA button links
   - `MobileNav.tsx` - Ensure all links included

### Testing Requirements

1. **Unit Tests**
   - Test new page components render correctly
   - Test navigation link functionality
   - Test poll listing component

2. **Integration Tests**
   - Test complete navigation flow
   - Test home page to polls page flow
   - Test home page to create poll flow

3. **E2E Tests**
   - Test user can navigate from home to all pages
   - Test mobile navigation works on all screen sizes
   - Test all CTA buttons work correctly

## Risk Assessment

**Primary Risk:** Breaking existing navigation or authentication flow
**Mitigation:** Thorough testing of existing functionality, incremental changes
**Rollback:** Revert navigation link changes if issues arise

## Compatibility Verification

- [ ] No breaking changes to existing APIs
- [ ] No database changes required
- [ ] UI changes follow existing design patterns
- [ ] Performance impact is negligible
- [ ] Mobile responsiveness maintained
